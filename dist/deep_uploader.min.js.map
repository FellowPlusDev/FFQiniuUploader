{"version":3,"file":"deep_uploader.min.js","sources":["deep_uploader.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","getProfile","name","profile","profiles","getUploader","element","file","Uploader","uploaders","uploader","_file_trigger","_file_trigger2","_uploadersQiniu_uploader","_uploadersQiniu_uploader2","qiniu","DeepUploader","register","browse","uploaderProfile","profileName","dataset","trigger","start","browseHandler","this","window","./file_trigger","./uploaders/qiniu_uploader",2,"Object","defineProperty","value","EventTrigger","eventName","detail","arguments","undefined","dispatchEvent","CustomEvent","bubbles",3,"makeInput","input","document","createElement","setAttribute","accept","style","visibility","position","width","height","body","appendChild","_event_trigger","_event_trigger2","FileTrigger","callback","addEventListener","event","files","target","parentNode","removeChild","click","./event_trigger",4,"_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","BaseUploader","xhr","self","XMLHttpRequest","open","uploadUrl","onBeforeUpload","_detail","upload","formData","FormData","append","onload","status","data","JSON","parse","responseText","onFileUploaded","response","onFileError","onprogress","lengthComputable","percent","loaded","total","onFileProgress","send","responseStatus","../event_trigger",5,"_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_base_uploader","_base_uploader2","QiniuUploader","_BaseUploader","request","uptokenUrl","uptoken","_fetchUploadToken","filename","encodeURIComponent","url","domain","./base_uploader"],"mappings":";;CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAEA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAiBzF,QAASG,GAAWC,GAClB,GAAIC,GAAUC,EAASF,EAEvB,IAAIC,EACF,MAAOA,EAEP,MAAM,YAAeD,EAAO,oBAIhC,QAASG,GAAYC,EAASH,EAASI,GACrC,GAAIC,GAAWC,EAAUN,EAAQO,SACjC,KAAKF,EACH,KAAM,yBAA4BL,EAAQO,SAAW,IAGvD,OAAO,IAAIF,GAASF,EAASH,EAASI,GA/BxC,GAAII,GAAgBzB,EAAQ,kBAExB0B,EAAiBf,EAAuBc,GAExCE,EAA2B3B,EAAQ,8BAEnC4B,EAA4BjB,EAAuBgB,GAEnDT,KACAK,GACFM,MAAOD,EAA0B,YAG/BE,IAsBJA,GAAaC,SAAW,SAAUd,GAChCC,EAASD,EAAQD,MAAQC,GAI3Ba,EAAaE,OAAS,SAAUZ,EAASa,GACvC,GAAIC,GAAcd,EAAQe,QAAQF,iBAAmBA,EACjDhB,EAAUF,EAAWmB,EAEzBR,GAAe,WAAWU,QAAQhB,EAASH,EAAS,SAAUI,GAC5D,GAAIG,GAAWL,EAAYC,EAASH,EAASI,EAC7CG,GAASa,WAIbP,EAAaQ,cAAgB,WAC3BR,EAAaE,OAAOO,OAGtBC,OAAOV,aAAeA,IAEnBW,iBAAiB,EAAEC,6BAA6B,IAAIC,GAAG,SAAS3C,EAAQU,EAAOJ,GAClF,YAEAsC,QAAOC,eAAevC,EAAS,cAC7BwC,OAAO,GAGT,IAAIC,KAEJA,GAAaX,QAAU,SAAUhB,EAAS4B,GACxC,GAAIC,GAASC,UAAU1C,QAAU,GAAsB2C,SAAjBD,UAAU,MAAwBA,UAAU,EAElF9B,GAAQgC,cAAc,GAAIC,aAAYL,GACpCM,SAAS,EACTL,OAAQA,MAIZ3C,EAAQ,WAAayC,EACrBrC,EAAOJ,QAAUA,EAAQ,gBAEnBiD,GAAG,SAASvD,EAAQU,EAAOJ,GACjC,YAMA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAMzF,QAAS4C,GAAUpC,EAASH,GAC1B,GAAIwC,GAAQC,SAASC,cAAc,QAenC,OAbAF,GAAMG,aAAa,OAAQ,QAEvB3C,EAAQ4C,QACVJ,EAAMG,aAAa,SAAU3C,EAAQ4C,QAGvCJ,EAAMK,MAAMC,WAAa,SACzBN,EAAMK,MAAME,SAAW,WACvBP,EAAMK,MAAMG,MAAQ,MACpBR,EAAMK,MAAMI,OAAS,MAErBR,SAASS,KAAKC,YAAYX,GAEnBA,EA1BTb,OAAOC,eAAevC,EAAS,cAC7BwC,OAAO,GAKT,IAAIuB,GAAiBrE,EAAQ,mBAEzBsE,EAAkB3D,EAAuB0D,GAqBzCE,IAEJA,GAAYnC,QAAU,SAAUhB,EAASH,EAASuD,GAChD,GAAIf,GAAQD,EAAUpC,EAASH,EAC/BwC,GAAMgB,iBAAiB,SAAU,SAAUC,GAGzC,IAAK,GAFDC,GAAQD,EAAME,OAAOD,MAEhB1E,EAAI,EAAGA,EAAI0E,EAAMnE,OAAQP,IAChCuE,EAASG,EAAM1E,IACfqE,EAAgB,WAAWlC,QAAQhB,EAAS,aAC1CA,QAASA,EACTH,QAASA,EACTI,KAAMsD,EAAM1E,IAKhBwD,GAAMoB,WAAWC,YAAYrB,KAC5B,GAEHA,EAAMsB,SAGRzE,EAAQ,WAAaiE,EACrB7D,EAAOJ,QAAUA,EAAQ,aAEtB0E,kBAAkB,IAAIC,GAAG,SAASjF,EAAQU,EAAOJ,GACpD,YAQA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAEzF,QAASsE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCARhHzC,OAAOC,eAAevC,EAAS,cAC7BwC,OAAO,GAGT,IAAIwC,GAAe,WAAe,QAASC,GAAiBX,EAAQY,GAAS,IAAK,GAAIvF,GAAI,EAAGA,EAAIuF,EAAMhF,OAAQP,IAAK,CAAE,GAAIwF,GAAaD,EAAMvF,EAAIwF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMhD,OAAOC,eAAe+B,EAAQa,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBH,EAAYY,UAAWF,GAAiBC,GAAaR,EAAiBH,EAAaW,GAAqBX,MAM7hBf,EAAiBrE,EAAQ,oBAEzBsE,EAAkB3D,EAAuB0D,GAEzC4B,EAAe,WACjB,QAASA,GAAa7E,EAASH,EAASI,GACtC6D,EAAgB3C,KAAM0D,GAEtB1D,KAAKnB,QAAUA,EACfmB,KAAKtB,QAAUA,EACfsB,KAAKlB,KAAOA,EAqGd,MAlGAiE,GAAaW,IACXJ,IAAK,UACL/C,MAAO,WACL,OACE1B,QAASmB,KAAKnB,QACdH,QAASsB,KAAKtB,QACdI,KAAMkB,KAAKlB,KACX6E,IAAK3D,KAAK2D,QAIdL,IAAK,QACL/C,MAAO,WACL,GAAIqD,GAAO5D,IAEX4D,GAAKD,IAAM,GAAIE,gBACfD,EAAKD,IAAIG,KAAK,OAAQF,EAAKlF,QAAQqF,WAAW,GAE9C/D,KAAKgE,eAAe,WAClBjC,EAAgB,WAAWlC,QAAQ+D,EAAK/E,QAAS,eAAgB+E,EAAKK,WAEtEL,EAAKM,OAAO,WACVnC,EAAgB,WAAWlC,QAAQ+D,EAAK/E,QAAS,aAAc+E,EAAKK,kBAK1EX,IAAK,iBACL/C,MAAO,SAAwB0B,GAC7BjC,KAAKmE,SAAW,GAAIC,UACpBpE,KAAKmE,SAASE,OAAO,OAAQrE,KAAKlB,MAClCkB,KAAKmE,SAASE,OAAO,OAAQrE,KAAKlB,KAAKL,MACvCuB,KAAKmE,SAASE,OAAO,MAAOrE,KAAKlB,KAAKL,MAEtCwD,OAGFqB,IAAK,SACL/C,MAAO,SAAgB0B,GACrB,GAAI2B,GAAO5D,IAEX4D,GAAKD,IAAIW,OAAS,WAChB,GAAwB,MAApBV,EAAKD,IAAIY,OAAgB,CAC3B,GAAIC,GAAOC,KAAKC,MAAMd,EAAKD,IAAIgB,aAC/Bf,GAAKgB,eAAeJ,EAAM,WACxB,GAAI9D,GAASkD,EAAKK,SAClBvD,GAAOmE,SAAWjB,EAAKiB,SAEvB9C,EAAgB,WAAWlC,QAAQ+D,EAAK/E,QAAS,eAAgB6B,SAGnEkD,GAAKkB,YAAYlB,EAAKD,IAAIY,OAAQX,EAAKD,IAAIgB,eAI/Cf,EAAKD,IAAIO,OAAOa,WAAa,SAAU5C,GACrC,GAAIA,EAAM6C,iBAAkB,CAC1B,GAAIC,GAAU9C,EAAM+C,OAAS/C,EAAMgD,KAGnCvB,GAAKwB,eAAe,WAClB,GAAI1E,GAASkD,EAAKK,SAClBvD,GAAOuE,QAAUA,EAEjBlD,EAAgB,WAAWlC,QAAQ+D,EAAK/E,QAAS,eAAgB6B,OAIvEkD,EAAKD,IAAI0B,KAAKzB,EAAKO,UAEnBlC,OAGFqB,IAAK,SACL/C,MAAO,eAEP+C,IAAK,iBACL/C,MAAO,SAAwB0B,GAC7BA,OAGFqB,IAAK,iBACL/C,MAAO,SAAwBiE,EAAMvC,GACnCjC,KAAK6E,SAAWL,EAEhBvC,OAGFqB,IAAK,cACL/C,MAAO,SAAqBgE,EAAQM,GAClC,GAAInE,GAASV,KAAKiE,SAClBvD,GAAO4E,eAAiBf,EACxB7D,EAAOiE,aAAeE,EAEtB9C,EAAgB,WAAWlC,QAAQG,KAAKnB,QAAS,YAAa6B,OAI3DgD,IAGT3F,GAAQ,WAAa2F,EACrBvF,EAAOJ,QAAUA,EAAQ,aAEtBwH,mBAAmB,IAAIC,GAAG,SAAS/H,EAAQU,EAAOJ,GAIrD,YAUA,SAASK,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,UAAWF,GAEzF,QAASsE,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAAS2C,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAI7C,WAAU,iEAAoE6C,GAAeD,GAASjC,UAAYpD,OAAOuF,OAAOD,GAAcA,EAAWlC,WAAaoC,aAAetF,MAAOmF,EAAUvC,YAAY,EAAOE,UAAU,EAAMD,cAAc,KAAeuC,IAAYtF,OAAOyF,eAAiBzF,OAAOyF,eAAeJ,EAAUC,GAAcD,EAASK,UAAYJ,GAZjetF,OAAOC,eAAevC,EAAS,cAC7BwC,OAAO,GAGT,IAAIwC,GAAe,WAAe,QAASC,GAAiBX,EAAQY,GAAS,IAAK,GAAIvF,GAAI,EAAGA,EAAIuF,EAAMhF,OAAQP,IAAK,CAAE,GAAIwF,GAAaD,EAAMvF,EAAIwF,GAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,SAAWF,KAAYA,EAAWG,UAAW,GAAMhD,OAAOC,eAAe+B,EAAQa,EAAWI,IAAKJ,IAAiB,MAAO,UAAUL,EAAaU,EAAYC,GAAiJ,MAA9HD,IAAYP,EAAiBH,EAAYY,UAAWF,GAAiBC,GAAaR,EAAiBH,EAAaW,GAAqBX,MAE7hBmD,EAAO,SAAaC,EAAIC,EAAKC,GAAqC,IAA9B,GAAIC,IAAS,EAAwBA,GAAQ,CAAE,GAAIC,GAASJ,EAAIK,EAAWJ,EAAKK,EAAWJ,CAAKK,GAAOC,EAASC,EAAS9F,OAAWwF,GAAS,EAAsB,OAAXC,IAAiBA,EAASM,SAASlD,UAAW,IAAI+C,GAAOnG,OAAOuG,yBAAyBP,EAAQC,EAAW,IAAa1F,SAAT4F,EAAJ,CAAiN,GAAI,SAAWA,GAAQ,MAAOA,GAAKjG,KAAgB,IAAImG,GAASF,EAAKK,GAAK,OAAejG,UAAX8F,EAA+B9F,OAAoB8F,EAAO1I,KAAKuI,GAApU,GAAIE,GAASpG,OAAOyG,eAAeT,EAAS,IAAe,OAAXI,EAAmB,MAAO7F,OAAoBqF,GAAKQ,EAAQP,EAAMI,EAAUH,EAAMI,EAAUH,GAAS,IAQtdW,EAAiBtJ,EAAQ,mBAEzBuJ,EAAkB5I,EAAuB2I,GAEzCE,EAAgB,SAAWC,GAG7B,QAASD,GAAcpI,EAASH,EAASI,GACvC6D,EAAgB3C,KAAMiH,GAEtBjB,EAAK3F,OAAOyG,eAAeG,EAAcxD,WAAY,cAAezD,MAAMhC,KAAKgC,KAAMnB,EAASH,EAASI,GAGlGkB,KAAKtB,QAAQqF,YAChB/D,KAAKtB,QAAQqF,UAAY,4BA+C7B,MAxDA0B,GAAUwB,EAAeC,GAezBnE,EAAakE,IACX3D,IAAK,oBACL/C,MAAO,SAA2B0B,GAChC,GAAI2B,GAAO5D,KACPmH,EAAU,GAAItD,eAElBsD,GAAQrD,KAAK,MAAO9D,KAAKtB,QAAQ0I,YAAY,GAC7CD,EAAQ7C,OAAS,WACf,GAAuB,MAAnB6C,EAAQ5C,OAAgB,CAC1B,GAAIC,GAAOC,KAAKC,MAAMyC,EAAQxC,aAC9Bf,GAAKO,SAASE,OAAO,QAASG,EAAK6C,SAEnCpF,MAIJkF,EAAQ9B,UAGV/B,IAAK,iBACL/C,MAAO,SAAwB0B,GAC7B2B,KAAO5D,KAEPgG,EAAK3F,OAAOyG,eAAeG,EAAcxD,WAAY,iBAAkBzD,MAAMhC,KAAKgC,KAAM,WACtF4D,KAAK0D,kBAAkBrF,QAI3BqB,IAAK,iBACL/C,MAAO,SAAwBiE,EAAMvC,GACnC,GAAI2B,GAAO5D,IAEXgG,GAAK3F,OAAOyG,eAAeG,EAAcxD,WAAY,iBAAkBzD,MAAMhC,KAAKgC,KAAMwE,EAAM,WAC5F,GAAI+C,GAAWC,mBAAmB5D,EAAKiB,SAASvB,IAChDM,GAAKiB,SAAS4C,IAAM7D,EAAKlF,QAAQgJ,OAASH,EAE1CtF,UAKCgF,GACND,EAAgB,WAEnBjJ,GAAQ,WAAakJ,EACrB9I,EAAOJ,QAAUA,EAAQ,aAEtB4J,kBAAkB,SAAS"}