{"version":3,"file":"deep_uploader.min.js","sources":["deep_uploader.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","getProfile","name","profile","profiles","getUploader","element","file","Uploader","uploaders","uploader","_profile","_file_trigger","_file_trigger2","_uploadersQiniu_uploader","_uploadersQiniu_uploader2","qiniu","DeepUploader","register","browse","uploaderProfile","profileName","dataset","trigger","start","browseHandler","this","window","./file_trigger","./profile","./uploaders/qiniu_uploader",2,"Object","defineProperty","value","EventTrigger","eventName","detail","arguments","undefined","dispatchEvent","CustomEvent","bubbles",3,"makeInput","input","document","createElement","setAttribute","accept","style","visibility","position","width","height","body","appendChild","_event_trigger","_event_trigger2","FileTrigger","callback","addEventListener","event","files","target","parentNode","removeChild","click","./event_trigger",4,"options","bucket","domain","ssl","uptokenUrl",5,"_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","BaseUploader","xhr","self","XMLHttpRequest","open","uploadUrl","onBeforeUpload","_detail","upload","formData","FormData","append","onload","status","data","JSON","parse","responseText","onFileUploaded","response","onFileError","send","responseStatus","../event_trigger",6,"_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_base_uploader","_base_uploader2","QiniuUploader","_BaseUploader","request","uptoken","_fetchUploadToken","filename","encodeURIComponent","url","./base_uploader"],"mappings":"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"}