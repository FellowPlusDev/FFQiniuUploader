{"version":3,"file":"deep_uploader.min.js","sources":["deep_uploader.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","getProfile","name","profile","profiles","getUploader","element","file","Uploader","uploaders","uploader","_profile","_file_trigger","_file_trigger2","_uploadersQiniu_uploader","_uploadersQiniu_uploader2","qiniu","DeepUploader","register","browse","uploaderProfile","profileName","dataset","trigger","start","browseHandler","this","window","./file_trigger","./profile","./uploaders/qiniu_uploader",2,"Object","defineProperty","value","EventTrigger","eventName","detail","arguments","undefined","dispatchEvent","CustomEvent","bubbles",3,"makeInput","input","document","createElement","setAttribute","accept","style","visibility","position","width","height","body","appendChild","_event_trigger","_event_trigger2","FileTrigger","callback","addEventListener","event","files","target","parentNode","removeChild","click","./event_trigger",4,5,"_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","BaseUploader","xhr","self","XMLHttpRequest","open","uploadUrl","onBeforeUpload","_detail","upload","formData","FormData","append","onload","status","data","JSON","parse","responseText","onFileUploaded","response","onFileError","send","responseStatus","../event_trigger",6,"_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_base_uploader","_base_uploader2","QiniuUploader","_BaseUploader","request","uptokenUrl","uptoken","_fetchUploadToken","filename","encodeURIComponent","url","domain","./base_uploader"],"mappings":"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"}